(function(){var c=LOCALE.maketext("An unknown error occurred.");var m=(CPANEL.application==="whostmgr");var i=(document.documentElement.dir==="rtl");String.prototype.elide=function(C){var B=new RegExp(i?".+(.{"+C+"})$":"^(.{"+C+"}).+");if(B.test(this)){return this.replace(B,LOCALE.maketext("[_1]â€¦"))}else{return this.valueOf()}};CPANEL.ajax={};var t='<div class="error_notice">{error_html}</div>';var y='<div class="error_notice http_error_notice"><div class="http_status">{status}: {status_text_html}</div><div class="details_link"><a href="javascript:void(0)" onclick="CPANEL.animate.slide_toggle(this.parentNode.nextSibling)">Show/hide details</a></div><div class="cjt_error_details" style="display:none"><div class="url">URL ({method}):<pre>{url_html}</pre></div><div class="post">Post:<pre>{post_html}</pre></div><div class="response">Response:<pre>{response_html}</pre></div></div></div>';var z={effect:CPANEL.animate.ContainerEffect.FADE_MODAL,duration:0.25};CPANEL.ajax.FADE_MODAL=z;CPANEL.ajax.templates={};YAHOO.util.Event.onDOMReady(function(){var B=document.getElementsByTagName("script");var C=B.length;var E;for(var D=0;E=B[D];D++){var F=E.id;if(F&&(E.type==="text/plain"||E.type==="text/html")){CPANEL.ajax.templates[F]=E.text.trim()}}});if(!CPANEL.datatable){CPANEL.datatable={}}CPANEL.datatable.get_api_data=function(D){if(D.getState){D=D.getState()}var C={filter:[],paginate:{start:D.pagination.recordOffset,size:D.pagination.rowsPerPage}};var B=D.sortedBy&&D.sortedBy.key;if(B){if(D.sortedBy.dir===YAHOO.widget.DataTable.CLASS_DESC){B="!"+B}C.sort=[B]}return C};var s=function(H){var B;if(!H){B=c}else{if(("status" in H)&&H.status!==200){var F=CPANEL.api.get_transaction_args(H.tId);var D=H.getAllResponseHeaders||"";if(D){D=D.trim().split(/[\r\n]+/).sort().join("\n").html_encode()}var C=H.responseText||"";return YAHOO.lang.substitute(y,{status:H.status,status_text_html:H.statusText.html_encode(),method:F?F[0]:"",url_html:F?F[1].html_encode():"",post_html:(F&&F[3]||"").html_encode(),response_html:(D+"\n\n"+C.html_encode()).trim()})}else{if(H.cpanel_error){var G=H.cpanel_error;switch(typeof G){case"string":B=G.html_encode();break;case"object":B=G.error?String(G.error).html_encode():c;if(G.messages){B+='<ul class="cjt-page-callback-messages">';if(G.messages.error){for(var E=0;E<G.messages.error.length;E++){B+="<li>"+CPANEL.icons.error+" "+String(G.messages.error[E]).html_encode()+"</li>"}}if(G.messages.warn){for(var E=0;E<G.messages.warn.length;E++){B+="<li>"+CPANEL.icons.warning+" "+String(G.messages.warn[E]).html_encode()+"</li>"}}if(G.messages.info){for(var E=0;E<G.messages.info.length;E++){B+="<li>"+CPANEL.icons.info+" "+String(G.messages.info[E]).html_encode()+"</li>"}}B+="</ul>"}break;default:B=c}}else{if(H.responseText){B=H.responseText.html_encode()}}}}if(!B){B=String(H).html_encode()}return B};var w;CPANEL.ajax.build_page_callback=function(E,D){if(!D){D={}}var B=!D.hide_on_return?null:function(){var F=(D.hide_on_return instanceof Array)?D.hide_on_return:[D.hide_on_return];F.forEach(function(G){G.animated_hide?G.animated_hide():G.hide()})};var C={success:function(){if(B){B()}if(E){E.apply(this,arguments)}}};C.failure=function(G){if(B){B()}if(G&&G.status&&(G.status===-1)){if(D.on_cancel){D.on_cancel.apply(this,arguments)}return}var F=s(G);if(w&&w.cfg&&DOM.inDocument(w.element)){w.cfg.setProperty("content",F)}else{w=new CPANEL.widgets.Page_Notice({container:D.pagenotice_container,level:"error",closable:true,content:F})}if(D.on_error){D.on_error(G)}};return C};CPANEL.ajax.build_callback=function(G,C,E){var D,B;if(!E){E={}}if(C){D=C.current;B=C.after_error}var F={};F.failure=function(O){if(E.failure){E.failure.apply(this,arguments)}var H,L,I;if(typeof O==="object"){if(("status" in O)&&O.status!==200){if(O.status>=0){I=true}else{if(E.on_cancel){E.on_cancel.call(this,O)}return}}}var H=s(O);if("console" in window){console.warn("API error:",O)}var K;if(B){K=function(){var Q=this;var P=Q.fade_to(B);Q.after_hideEvent.subscribe(Q.destroy,Q,true)}}else{K=function(){this.cancel()}}var N=new p(null,{buttons:[{text:LOCALE.maketext("OK"),handler:K,isDefault:true}]});var J=this.header?this.header.innerHTML:I?LOCALE.maketext("HTTP ERROR"):LOCALE.maketext("ERROR");J=CPANEL.widgets.Dialog.applyDialogHeader(J);N.setHeader(J);if(I){N.setBody(H)}else{N.setBody(YAHOO.lang.substitute(t,{error_html:H}))}N.render(document.body);N.center();if(E.on_error){N.cancelEvent.subscribe(E.on_error)}if(D){var M=D.fade_to(N);if(!B){D.after_hideEvent.subscribe(D.destroy,D,true)}}else{N.show()}if(!B){N.cfg.setProperty("effect",z)}};F.success=function(I){if(G){G.call(this,I)}if(D&&!E.keep_current_on_success){if(C.success){D.fade_to(C.success)}else{var J=D.cfg.getProperty("effect");D.cfg.setProperty("effect",z);D.after_hideEvent.subscribe(function H(){this.after_hideEvent.unsubscribe(H);this.cfg.setProperty("effect",J);if(D.cfg){D.destroy()}});D.hide()}}};return F};var v={visible:false};var e=function(E,D){if(!E){E=DOM.generateId()}if(!D){D={}}if(!("show_status" in D)){D.show_status=!!D.status_html}YAHOO.lang.augmentObject(D,v);if(!this.cfg){YAHOO.widget.Overlay.call(this,E)}this.beforeInitEvent.fire(k);DOM.addClass(this.element,"cjt-progress-overlay");this.cfg.applyConfig(D,true);var C='<div class="cjt-progress-overlay-body-liner">';switch(this.cfg.getProperty("format")){case"throbber":DOM.addClass(this.element,"throbber");C+='<div class="loader-tool"><div class="loader"></div></div>';break;case"spinner":DOM.addClass(this.element,"spinner");break;default:throw"PO format"}if(D.show_status){C+='<div class="cjt-progress-overlay-text-container"><span class="cjt-progress-overlay-text">'+(D.status_html||"&nbsp;")+"</span></div>";this.renderEvent.subscribe(function B(){this.renderEvent.unsubscribe(B);var F=Y(this.body).one("span.cjt-progress-overlay-text");this.fading_text_field=new CPANEL.ajax.Fading_Text_Field(F)})}C+="</div>";this.setBody(C);this.throbber=this.body.firstChild.firstChild;DOM.setStyle(this.body,"border",0)};CPANEL.ajax.Progress_Overlay=e;YAHOO.lang.extend(e,YAHOO.widget.Overlay,{initDefaultConfig:function(B){if(!B){e.superclass.initDefaultConfig.call(this)}this.cfg.addProperty("show_status",{value:false});this.cfg.addProperty("status_html",{value:""});this.cfg.addProperty("covers",{value:null});this.cfg.addProperty("format",{value:"throbber"})},set_status:function(B){this.cfg.setProperty("status_html",B);if(this.cfg.getProperty("show_status")){this.fading_text_field.set_html(B)}},set_status_now:function(B){this.cfg.setProperty("status_html",B);if(this.cfg.getProperty("show_status")){this.fading_text_field.set_html_now(B)}},align:function(){e.superclass.align.apply(this,arguments);var B=this.cfg.getProperty("covers");if(B&&(B=DOM.get(B))){var C=B.offsetWidth;var D=B.offsetHeight;if(C!==this._covered_width){this._covered_width=C;this.cfg.setProperty("width",C+"px")}if(D!==this._covered_height){this._covered_height=D;this.cfg.setProperty("height",D+"px")}}},throbber:null,fading_text_field:null});var q=function(F,C){if(!C){C={}}var E={effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25}};if(C.covers){E.context=[C.covers,"tl","tl",["windowResize","textResize"]];E.zIndex=CPANEL.dom.get_zindex(DOM.get(C.covers))+1}YAHOO.lang.augmentObject(C,E);q.superclass.constructor.call(this,F,C);this.renderEvent.subscribe(function(){DOM.addClass(this.element,"cjt-page-progress-overlay")});this.make_autorender();var D=[];var B;this.beforeShowEvent.subscribe(function(){var G=this.cfg.getProperty("covers");if(G&&(G=DOM.get(G))){var H=this;if(!this._covered_opacity){this._covered_opacity=DOM.getStyle(G,"opacity")}if(this._fade){this._fade.stop()}this._fade=new YAHOO.util.Anim(G,{opacity:{to:this._covered_opacity/4}},0.25);this._fade.onComplete.subscribe(function(){H._fade=null});this._fade.animate();var K=Y(G).all("input, button, textarea, select");var I=0,J;while(J=K[I++]){if(!J.disabled){D.push(J);if(J===document.activeElement){B=J;J.blur()}J.disabled=true}}EVENT.on(G,"focusin",document.focus,document,true)}});this.beforeHideEvent.subscribe(function(){var G=this.cfg.getProperty("covers");if(G&&(G=DOM.get(G))){var H=this;if(this._fade){this._fade.stop()}this._fade=new YAHOO.util.Anim(G,{opacity:{to:this._covered_opacity}},0.25);this._fade.onComplete.subscribe(function(){H._fade=null});this._fade.animate();for(var I=D.length-1;I>=0;I--){var J=D[I];J.disabled=false;if(J===B){J.focus();B=null}}D=[];EVENT.removeListener(G,"focusin",document.focus)}});this.after_hideEvent.subscribe(this.destroy,this,true)};YAHOO.lang.extend(q,e);CPANEL.ajax.Page_Progress_Overlay=q;var A={modal:true,fixedcenter:true,draggable:false,dragOnly:true,close:false,underlay:"none",monitorresize:false,visible:false};var k=function(C,B){if(!C){C=DOM.generateId()}else{if(typeof C==="object"){B=C;C=DOM.generateId()}}if(!B){B={}}YAHOO.lang.augmentObject(B,A);YAHOO.widget.Panel.call(this,C);e.call(this,C,B);this.beforeInitEvent.fire(k);DOM.addClass(this.element,"cjt_progress_panel_container");DOM.addClass(this.innerElement,"cjt_progress_panel");this.cfg.applyConfig(B,true);this.make_autorender();if(!this._modalFocus){this._createHiddenFocusElement()}};CPANEL.ajax.Progress_Panel=k;YAHOO.lang.extend(k,YAHOO.widget.Panel,{initDefaultConfig:function(){k.superclass.initDefaultConfig.call(this);e.prototype.initDefaultConfig.call(this,true)}});YAHOO.lang.augment(k,e);CPANEL.ajax.Fading_Text_Field=function(B){B=DOM.get(B);DOM.addClass(B,"cjt-fading-text-field");this._dom_node=B;this._dom_node_parent=B.parentNode;this._prototype_node=B.cloneNode(false);this._prototype_node.style.display="none";this._prototype_node.style.position="absolute"};YAHOO.lang.augmentObject(CPANEL.ajax.Fading_Text_Field.prototype,{set_html_now:function(B){if(this._fade_in){this._fade_in.stop()}if(this._fade_out){this._fade_out.stop()}this._dom_node.innerHTML=B;DOM.setStyle(this._dom_node,"opacity","");this._fade_in=null;this._fade_out=null},_fade_in:null,_fade_in_el:null,_fade_out:null,_dom_node:null,_dom_node_parent:null,set_html:function(G){var D=this._dom_node;var F=this._dom_node_parent;var C=this._fade_in&&this._fade_in.isAnimated()&&this._fade_in;var B=this._fade_out&&this._fade_out.isAnimated()&&this._fade_out;if(!C&&B){B.stop();B=false}var H=this._prototype_node.cloneNode(false);H.id=DOM.generateId();H.innerHTML=G;F.insertBefore(H,this._dom_node);this._dom_node=H;if(C){this._fade_in.stop();F.removeChild(this._fade_in_el)}var E=this;this._fade_in=CPANEL.animate.fade_in(H);this._fade_in_el=H;if(!B&&DOM.inDocument(D)){B=CPANEL.animate.fade_out(D);B.onComplete.subscribe(function(){F.removeChild(D);H.style.position=""});this._fade_out=B}}});YAHOO.widget.Panel.prototype.fade_to=function(O){var I=this;var Q=I.cfg.getProperty("modal"),F=O.cfg.getProperty("modal"),R,J;if(Q&&F){O.cfg.setProperty("zIndex",this.cfg.getProperty("zIndex")+1);var H=this.mask;var B=O.mask;if(B&&DOM.inDocument(B)){B.parentNode.removeChild(B)}H.id=O.id+"_mask";O.mask=H;this.mask=null;J=new YAHOO.util.Anim(I.element,{opacity:{to:0}},0.25);J.onComplete.subscribe(function L(){delete I._fade;I.hide();if(I.cfg){DOM.setStyle(I.element,"opacity","")}});if("_fade" in this){var C=this.hide;this.hide=function(){};this._fade.stop();this.hide=C}this._fade=J;J.animate();DOM.setStyle(O.element,"opacity",0);O.show();var S=parseFloat(CPANEL.dom.get_zindex(H))+1;DOM.setStyle(this.element,"z-index",S);R=new YAHOO.util.Anim(O.element,{opacity:{to:1}},0.25);R.onComplete.subscribe(function(){DOM.setStyle(O.element,"opacity","");delete O._fade});if("_fade" in O){var C=O.hide;O.hide=function(){};O._fade.stop();O.hide=C}O._fade=R;R.animate()}else{var K={effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25};var N=I.cfg.getProperty("effect");var E=O.cfg.getProperty("effect");var P=Q?z:K;var D=F?z:K;I.hideEvent.subscribe(function G(){this.hideEvent.unsubscribe(G);this.cfg.setProperty("effect",N,true)});O.hideEvent.subscribe(function M(){this.hideEvent.unsubscribe(M);this.cfg.setProperty("effect",E,true)});I.cfg.setProperty("effect",P,true);O.cfg.setProperty("effect",D,true);I.hide();O.show()}};YAHOO.widget.Panel.prototype.show_from_source=function(M){var T,E;if(M instanceof Array){E=M}else{T=DOM.get(M);E=g(T)}var Q=this.element;var G=Q.style;var R=this.cfg.getProperty("modal");var I=DOM.getStyle;DOM.setStyle(Q,"opacity",0);if(R){this.beforeShowMaskEvent.subscribe(function S(){this.beforeShowMaskEvent.unsubscribe(S);DOM.setStyle(this.mask,"opacity",0)})}var H=this._already_shown;if(!H){this.beforeShowEvent.subscribe(function K(){this.beforeShowEvent.unsubscribe(K);this.center();this._already_shown=true})}this.show();var J=DOM.getXY(Q);var N=this.innerElement;var O=N.style;var D=O.width;var F=O.height;var B=G.width;var C=G.height;var U=CPANEL.dom.get_content_width(N)+"px";var P=CPANEL.dom.get_content_height(N)+"px";O.width=U;O.height=P;G.width=0;G.height=0;DOM.addClass(Q,"cjt_panel_animating");DOM.setStyle(Q,"opacity","");var L=new YAHOO.util.Motion(Q,{points:{from:E,to:J},width:{from:0,to:parseFloat(U)},height:{from:0,to:parseFloat(P)}},0.25);L.animate();L.onComplete.subscribe(function(){O.width=D;O.height=F;G.width=B;G.height=C;DOM.removeClass(Q,"cjt_panel_animating")});if(R){this.mask.style.visibility="hidden";DOM.setStyle(this.mask,"opacity","");CPANEL.animate.fade_in(this.mask);this.mask.style.visibility=""}return L};YAHOO.widget.Panel.prototype.hide_to_point=function(H){var F;if(!(H instanceof Array)){F=DOM.get(H);H=g(F)}var D=this;var G=this.element;G.style.overflow="hidden";var E=DOM.getXY(G);var C=new YAHOO.util.Motion(G,{points:{from:E,to:H},width:{to:0},height:{to:0}},0.25);C.animate();if(this.mask){var B=CPANEL.animate.fade_out(this.mask)}C.onComplete.subscribe(function(){if(B){B.stop(true)}D.hide();DOM.setXY(G,E);G.style.height="";G.style.width="";if(F&&F.focus){var I=CPANEL.dom.get_viewport_region().contains(DOM.getRegion(F));if(I){F.focus()}}});return C};CPANEL.dom.get_viewport_region=function(){var E=DOM.getViewportWidth();var C=DOM.getViewportHeight();var D=window.scrollX;var B=window.scrollY;return new YAHOO.util.Region(B,D+E,B+C,D)};YAHOO.widget.Module.prototype.make_autorender=function(){var C=this.show;var B=false;this.renderEvent.subscribe(function(){B=true});this.show=function(){if(!B){this.render(document.body);B=true}this.show=C;return C.apply(this,arguments)}};var d={modal:true,draggable:true,close:false,visible:false,postmethod:"manual",hideaftersubmit:false,constraintoviewport:true,dragOnly:true,effect:null,buttons:[{text:LOCALE.maketext("Proceed"),handler:function(){this.submit()},isDefault:true},{text:LOCALE.maketext("Cancel"),classes:"cancel",handler:function(){this.cancel()}}]};var l=function(G,D){if(G&&(typeof G==="object")){D=G;G=DOM.generateId()}else{if(!G){G=DOM.generateId()}}if(!D){D={}}var E=!("buttons" in D);YAHOO.lang.augmentObject(D,d);if(E){var F=[];for(var B=D.buttons.length-1;B>=0;B--){F[B]=YAHOO.lang.augmentObject({},D.buttons[B])}D.buttons=F}l.superclass.constructor.call(this,G);this.beforeInitEvent.fire(l);DOM.addClass(this.element,"cjt_common_dialog_container");this.cfg.applyConfig(D,true);this.setHeader(CPANEL.widgets.Dialog.applyDialogHeader("&nbsp;"));this.setBody("");this.form.action="javascript:void(0)";this.make_autorender();var C=this;this.form.onsubmit=function(){return false};if(this.cfg.getProperty("draggable")&&this.cfg.getProperty("fixedcenter")){this.showEvent.subscribe(function(){this.cfg.setProperty("fixedcenter",false,false)});this.hideEvent.subscribe(function(){DOM.setStyle(this.element,"left","");DOM.setStyle(this.element,"top","");this.cfg.setProperty("fixedcenter",true,false)})}this.cancelEvent.subscribe(function(){this.after_hideEvent.subscribe(function H(){this.after_hideEvent.unsubscribe(H);if(C.cfg){C.destroy()}})});this.manualSubmitEvent.subscribe(function(){if(this.cfg.getProperty("progress_overlay")){var U=DOM.getRegion(this.body);var N=DOM.getRegion(this.footer);var K=parseFloat(CPANEL.dom.get_zindex(this.element))+1;var R=document.createElement("div");R.style.display="none";document.body.appendChild(R);var J="<div class='cjt_common_dialog_mask' style='position:absolute;visibility:hidden;z-index:{z_index};background-color:{body_background_color};width:{body_inner_width}px;height:{body_inner_height}px;'>&nbsp;</div><div class='cjt_common_dialog_mask' style='position:absolute;visibility:hidden;z-index:{z_index};background-color:{footer_background_color};width:{footer_inner_width}px;height:{footer_inner_height}px;'>&nbsp;</div>";var M=YAHOO.lang.substitute(J,{z_index:K,body_background_color:CPANEL.dom.get_background_color(this.body),body_inner_width:U.width,body_inner_height:U.height,footer_background_color:CPANEL.dom.get_background_color(this.footer),footer_inner_width:N.width,footer_inner_height:N.height});R.innerHTML=M;var O=R.firstChild;var P=R.lastChild;var Q=DOM.getStyle(O,"opacity");if(!Q||Q==1){Q=0.7}DOM.setStyle(O,"opacity",0);DOM.setStyle(P,"opacity",0);O.style.visibility="";P.style.visibility="";var S=new YAHOO.util.Anim(O,{opacity:{to:Q}},0.25);var I=new YAHOO.util.Anim(P,{opacity:{to:Q}},0.25);this.body.appendChild(O);this.footer.appendChild(P);document.body.removeChild(R);DOM.setXY(O,[U.left,U.top]);DOM.setXY(P,[N.left,N.top]);S.animate();I.animate();var T=new e(null,{zIndex:K+1,visible:false,show_status:this.cfg.getProperty("show_status"),effect:{effect:YAHOO.widget.ContainerEffect.FADE,duration:0.25},status_html:this.cfg.getProperty("status_html")});T.render(this.body);T.beforeShowEvent.subscribe(function(){DOM.setXY(this.element,[U.left+U.width/2-this.element.offsetWidth/2,(N.bottom+U.top)/2-this.element.offsetHeight/2])});T.show();this.progress_overlay=T;var H=new YAHOO.widget.Panel(DOM.generateId(),{modal:true,x:DOM.getX(this.element),y:DOM.getY(this.element),visible:false});H.render(this.element);H.buildMask();DOM.setStyle(H.element,"opacity",0);DOM.setStyle(H.mask,"opacity",0);H.show();T.beforeHideEvent.subscribe(function W(){this.beforeHideEvent.unsubscribe(W);if(H.cfg){H.destroy()}var Z=new YAHOO.util.Anim(O,{opacity:{to:0}},0.25);var X=new YAHOO.util.Anim(P,{opacity:{to:0}},0.25);Z.onComplete.subscribe(function(){if(C.body){C.body.removeChild(O)}});X.onComplete.subscribe(function(){if(C.footer){C.footer.removeChild(P)}});Z.animate();X.animate()});T.after_hideEvent.subscribe(T.destroy,T,true);this.beforeHideEvent.subscribe(function V(){this.beforeHideEvent.unsubscribe(V);if(H.cfg){H.destroy()}});this.hideEvent.subscribe(function L(){if(T.cfg){T.cfg.setProperty("effect",null);T.hide()}})}else{if(this.cfg.getProperty("modal")){this.cfg.setProperty("effect",z)}this.hide()}})};l.default_options=d;YAHOO.lang.extend(l,YAHOO.widget.Dialog,{initDefaultConfig:function(){YAHOO.widget.Dialog.prototype.initDefaultConfig.call(this);this.cfg.addProperty("progress_overlay",{value:true});this.cfg.addProperty("show_status",{value:false});this.cfg.addProperty("status_html",{value:""})},showMacGeckoScrollbars:function(){},hideMacGeckoScrollbars:function(){}});CPANEL.ajax.Common_Dialog=l;var g=function(B){var C=DOM.getXY(B);C[0]+=(parseFloat(DOM.getStyle(B,"width"))||B.offsetWidth)/2;C[1]+=(parseFloat(DOM.getStyle(B,"height"))||B.offsetHeight)/2;return C};var p=function(C,B){if(C&&(typeof C==="object")){B=C;C=DOM.generateId()}else{if(!C){C=DOM.generateId()}}if(!B){B={}}YAHOO.lang.augmentObject(B,{fixedcenter:true,width:"400px",buttons:[{text:LOCALE.maketext("OK"),handler:this.cancel,isDefault:true}]});p.superclass.constructor.call(this,C);this.beforeInitEvent.fire(p);DOM.addClass(this.element,"cjt_notice_dialog cjt_error_dialog");this.cfg.applyConfig(B,true);this.beforeRenderEvent.subscribe(function(){if(!this.header||!this.header.innerHTML){this.setHeader(CPANEL.widgets.Dialog.applyDialogHeader(LOCALE.maketext("Error")))}})};YAHOO.lang.extend(p,l);CPANEL.ajax.Error_Dialog=p;var f=function(C,B){if(!B){B={}}f.superclass.constructor.call(this,C,B);if(B.header_html){var E=B.header_html;E=CPANEL.widgets.Dialog.applyDialogHeader(E);this.setHeader(E)}var J=this;if(B.preload){var H=new k();H.render(document.body);if(B.clicked_element){H.show_from_source(B.clicked_element)}else{H.show()}H.after_hideEvent.subscribe(H.destroy,H,true);var I={application:B.preload.api_application,module:B.preload.api_module,func:B.preload.api_function,data:B.preload.data,api_data:B.preload.api_data,callback:null};var G=B.preload.success_function;var D=CPANEL.ajax.build_callback(function(){if(G){G.apply(J,arguments)}J.beforeShowEvent.subscribe(function M(){J.beforeShowEvent.unsubscribe(M);J.center()});var L=J.cfg.getProperty("form_template");if(L){var N=B.form_template_variables;var O=CPANEL.ajax.templates[L]||L;J.form.innerHTML=YAHOO.lang.substitute(O,N||{})}},{current:H,success:J},{whm:B.preload.api_application&&(B.preload.api_application==="whm")||m});I.callback=D;CPANEL.api(I)}else{if(B.form_template){var F=B.form_template_variables||{};var K=CPANEL.ajax.templates[B.form_template]||B.form_template;this.form.innerHTML=YAHOO.lang.substitute(K,F)}}this.manualSubmitEvent.subscribe(function(){var N=this.cfg.getProperty("api_calls");if(!N){return}var L=0;var M=function(){var P=N[L];var Q=(L===0);var T=(L===N.length-1);L++;var S;if(P.data){if(P.data instanceof Function){S=P.data.apply(J)}else{S=P.data}}else{S=CPANEL.dom.get_data_from_form(J.form)}var U;var O=T?function(){if(P.success_function){P.success_function.apply(J,arguments)}if(J.cfg.getProperty("show_status")){var ab=J.cfg.getProperty("success_notice_options")||{};if(!ab.content){ab.content=J.cfg.getProperty("success_status")||LOCALE.maketext("Success!");if(!ab.level){ab.level="success"}}J.notice=new n(ab)}if(J.cfg.getProperty("success_function")){J.cfg.getProperty("success_function").call(J)}}:function(){if(P.success_function){P.success_function.apply(J,arguments)}M()};var aa=B.show_status&&(P.status_template||B.status_template);if(aa){var W={};for(var X in S){W[X]=String(S[X]).html_encode()}var V=YAHOO.lang.substitute(aa,W);if(Q){J.progress_overlay.set_status_now(V)}else{J.progress_overlay.set_status(V)}J.progress_overlay.align()}var Z;if(J.cfg.getProperty("errors_in_notice_box")){Z={success:function(){if(!J.cfg.getProperty("no_hide_after_success")){J.animated_hide()}return O.apply(this,arguments)},failure:function(ab){J.progress_overlay.hide();J._api_error_notice=new CPANEL.widgets.Page_Notice({replaces:J._api_error_notice,container:Y(J.form).one(".details-error-notice"),level:"error",closable:true,content:s(ab)});if(P.on_error){return P.on_error.apply(this,arguments)}}}}else{var R=Q&&J.cfg.getProperty("try_again_after_error");Z=CPANEL.ajax.build_callback(O,{current:J,after_error:R?J:undefined},{on_error:P.on_error,whm:P.api_application&&(P.api_application==="whm")||m,keep_current_on_success:!T||J.cfg.getProperty("no_hide_after_success")})}CPANEL.api({application:P.api_application,module:P.api_module,func:P.api_function,api_data:P.api_data,data:S,callback:Z})};M()})};YAHOO.lang.extend(f,l,{initDefaultConfig:function(){f.superclass.initDefaultConfig.call(this);var B=["header_html","form_template","form_template_variables","clicked_element","status_template","api_calls","preload","no_hide_after_success","success_function","success_status","success_notice_options",["errors_in_notice_box",false],["try_again_after_error",true]];var C=this;B.forEach(function(D){if(D instanceof Array){C.cfg.addProperty(D[0],{value:D[1]})}else{C.cfg.addProperty(D,{value:null})}})},animated_show:function(){var C=this.cfg.getProperty("clicked_element");if(C){var B=this.show_from_source(C);return B}else{this.show()}},animated_hide:function(){var C=this.cfg.getProperty("clicked_element");if(C){var B=this.hide_to_point(C);return B}else{this.hide()}}});CPANEL.ajax.Common_Action_Dialog=f;CPANEL.dom.set_form_defaults=function(D){var B=D.elements;for(var F=B.length-1;F>=0;F--){var H=B[F];switch(H.tagName.toLowerCase()){case"select":var C=H.options;for(var G=C.length-1;G>=0;G--){var E=C[G];E.defaultSelected=E.selected}break;case"input":if("defaultChecked" in H){H.defaultChecked=H.checked}default:if("defaultValue" in H){H.defaultValue=H.value}}}};var a=document.createElement("option");a.innerHTML="test";var x=(a.value!==a.innerHTML);CPANEL.dom.TRIM_FORM_DATA=true;CPANEL.dom.get_data_from_form=function(D,C){if(typeof D==="string"){D=document.getElementById(D)}var H;if(C&&C.url_instead){var K=[];H=function(R,Q){if(CPANEL.dom.TRIM_FORM_DATA&&typeof Q==="string"){Q=Q.trim()}K.push(encodeURIComponent(R)+"="+encodeURIComponent(Q))}}else{var K={};H=function(R,Q){if(CPANEL.dom.TRIM_FORM_DATA&&typeof Q==="string"){Q=Q.trim()}if(R in K){if(YAHOO.lang.isArray(K[R])){K[R].push(Q)}else{K[R]=[K[R],Q]}}else{K[R]=Q}}}var M=D.elements;for(var G=0,P;P=M[G];G++){if("value" in P&&"name" in P&&P.name&&!P.disabled){var O=P.nodeName.toLowerCase();if(O==="input"){var I=P.type.toLowerCase();var F=P.name;switch(I){case"radio":if(P.checked){H(P.name,P.value)}break;case"checkbox":if(P.checked){H(P.name,P.value)}else{if(C&&("include_unchecked_checkboxes" in C)){H(P.name,C.include_unchecked_checkboxes)}}break;default:H(P.name,P.value);break}}else{if(O==="select"){if(P.selectedIndex!==-1){var L=P.name;if(P.multiple){var J=P.options;var B,N;for(var E=0;B=J[E];E++){if(B.selected&&!B.disabled){if(x&&!B.getAttributeNode("value").specified){N=B.innerText}else{N=B.value}H(L,N)}}}else{B=P.options[P.selectedIndex];if(x&&!B.getAttributeNode("value").specified){N=B.innerText}else{N=B.value}H(L,N)}}}else{if((O==="button")||(O==="textarea")){H(P.name,P.value)}}}}}if(C&&C.url_instead){return K.join("&")}else{return K}};var r=function(){var B=document.styleSheets[0];if(!B){document.head.appendChild(document.createElement("style"));B=document.styleSheets[0]}if("insertRule" in B){r=function(D){for(var C=0;C<D.length;C++){B.insertRule(D[C][0]+" {"+D[C][1]+"}",0)}}}else{r=function(D){for(var C=0;C<D.length;C++){B.addRule(D[C][0],D[C][1],0)}}}CPANEL.dom.add_styles=r;return r.apply(this,arguments)};CPANEL.dom.add_style=function(B){return CPANEL.dom.add_styles.call(this,[B])};CPANEL.dom.add_styles=r;var b=!!YAHOO.env.ua.ie;CPANEL.dom.smart_disable=function(D,F,B){if(b){CPANEL.dom.add_style([".cjt_smart_disable","background-color:red;filter:alpha(opacity=0)"]);b=false}D=DOM.get(D);var C;if(F===undefined){F=!D.disabled}if(F){if(D._smart_disable_overlay){return D._smart_disable_overlay}D.disabled=true;C=new j(D);C.render(D.parentNode);C.show();C.element.onclick=function(){C.destroy();try{delete D._smart_disable_overlay}catch(G){D._smart_disable_overlay=undefined}D.disabled=false;if(B){B.apply(D)}};D._smart_disable_overlay=C}else{D.disabled=false;C=D._smart_disable_overlay;try{delete D._smart_disable_overlay}catch(E){D._smart_disable_overlay=undefined}if(C){C.destroy()}}return C};var j=function(C){var B=parseFloat(CPANEL.dom.get_zindex(C));j.superclass.constructor.call(this,DOM.generateId(),{iframe:false,zIndex:B+1,width:C.offsetWidth+"px",height:C.offsetHeight+"px",context:[C,"tl","tl"]});this.showEvent.subscribe(this.hideMacGeckoScrollbars,this,true);this.hideMacGeckoScrollbars=this.showMacGeckoScrollbars;DOM.addClass(this.element,"cjt_smart_disable");this._context_el=C};YAHOO.lang.extend(j,YAHOO.widget.Overlay,{align:function(){var B=parseFloat(CPANEL.dom.get_zindex(this._context_el));this.cfg.setProperty("zIndex",B+1);this.cfg.setProperty("width",this._context_el.offsetWidth+"px");this.cfg.setProperty("height",this._context_el.offsetHeight+"px");j.superclass.align.apply(this,arguments)},showMacGeckoScrollbars:function(){}});CPANEL.dom.get_recursive_style=function(G,F,D,C){var B=DOM.get(G);var E;do{E=DOM.getComputedStyle(B,F)}while((E===D)&&(B=B.parentNode)&&(B!==document));if(!B||(E===D)){E=C}return E};CPANEL.dom.get_background_color=function(B){return CPANEL.dom.get_recursive_style(B,"backgroundColor","transparent")};CPANEL.dom.get_zindex=function(B){return CPANEL.dom.get_recursive_style(B,"zIndex","auto",0)};CPANEL.ajax.Grouped_Input_Set=function(){var B,D=arguments[0];if((typeof D==="string")||D.tagName&&D.tagName.toLowerCase()==="form"){B=CPANEL.ajax.Grouped_Input_Set.make_groups_from_form.apply(this,arguments)}else{B=D}this._groups=B;var E=this;for(var C=0;C<B.length;C++){var F=B[C];YAHOO.util.Event.on(F.radio,"click",this.refresh,this,true);if(F.listeners){(function(){var H=F;for(var G=0;G<H.listeners.length;G++){YAHOO.util.Event.on(H.listeners[G],"click",function(){if(!H.radio.checked){H.radio.checked=true;E.refresh()}})}})()}}this.refresh()};var o={button:1,input:1,select:1,textarea:1};CPANEL.ajax.Grouped_Input_Set.make_groups_from_form=function(B,K,C){B=DOM.get(B);var L=B.getElementsByTagName("label");var G={};var M;for(var F=0;M=L[F];F++){if(M.htmlFor){G[M.htmlFor]=M}}var H=DOM.getElementsBy(function(P){return(P.tagName.toLowerCase() in o)},undefined,B);var E;if(typeof K!=="undefined"&&typeof K!=="number"){if(typeof K==="string"){K=DOM.get(K)}if(K){var I=0;while((E=H[I])&&(E!==K)){I++}if(!E){return}K=I}}if(!K){K=0}if(typeof C!=="undefined"&&typeof C!=="number"){if(typeof C==="string"){C=DOM.get(C)}if(C){var I=K||0;I++;while((E=H[I])&&(E!==C)){I++}if(!E){return}C=I}}var D=[];var O;for(var J=K;E=H[J];J++){if(C&&J>C){break}if(E.type&&E.type.toLowerCase()==="radio"){if(O){D.push(O)}O={radio:E,inputs:[],listeners:[]}}else{if(O){O.inputs.push(E);var N=DOM.getAncestorByTagName(E,"label");if(!N&&E.id){N=G[E.id]}if(N&&(O.listeners.indexOf(N)===-1)){O.listeners.push(N)}}}}if(O){D.push(O)}return D};YAHOO.lang.augmentObject(CPANEL.ajax.Grouped_Input_Set.prototype,{_groups:null,get_groups:function(){return this._groups&&this._groups.slice(0)},refresh:function(){var B;for(var C=0;C<this._groups.length;C++){var D=this._groups[C];if(D.radio.checked){B=D;this._enable_group(D)}else{this._disable_group(D)}}if(this.onrefresh){this.onrefresh.call(this,B)}},align:function(){this.get_groups().forEach(function(B){if(B.disabled){B.smart_disable_overlays.forEach(function(C){C.align()})}})},onrefresh:null,_enable_group:function(C){if(C.inputs){for(var B=0;B<C.inputs.length;B++){CPANEL.dom.smart_disable(C.inputs[B],false)}}if(C.noninputs){for(var D=0;D<C.noninputs.length;D++){DOM.removeClass(C.noninputs[D],"disabled")}}C.disabled=false;C.smart_disable_overlays=null},_disable_group:function(F){var E=this;F.disabled=true;F.smart_disable_overlays=[];if(F.inputs){var B=function(){F.radio.checked=true;E.refresh();this.focus();if("selectionStart" in this){this.selectionStart=this.selectionEnd=this.value.length}else{if(document.selection){var H=document.selection.createRange();H.moveStart("character",this.value.length)}}};for(var D=0;D<F.inputs.length;D++){var C=CPANEL.dom.smart_disable(F.inputs[D],true,B);F.smart_disable_overlays.push(C)}}if(F.noninputs){for(var G=0;G<F.noninputs.length;G++){DOM.addClass(F.noninputs[G],"disabled")}}}});var u;var n=function(){n.superclass.constructor.apply(this,arguments)};n.DEFAULT_CONTAINER_ID="cjt_dynamicnotice_container";n.CLASS="cjt-dynamicnotice";YAHOO.lang.extend(n,CPANEL.widgets.Notice,{reset_fade_timeout:function(){this.config_fade_delay(this.cfg.getProperty("fade_delay"))},init:function(B,C){n.superclass.init.call(this,B);this.beforeInitEvent.fire(n);DOM.addClass(this.element,n.CLASS);if(C){this.cfg.applyConfig(C,true);this.render()}this.initEvent.fire(n)},initDefaultConfig:function(){n.superclass.initDefaultConfig.call(this);this.cfg.queueProperty("closable",true,true);this.cfg.addProperty("fade_delay",{value:5,handler:this.config_fade_delay})},config_fade_delay:function(C,B,E){this._cancel_fade();var F=B[0];if(F){var D=this;this._fade_timeout=setTimeout(function(){D.fade_out()},F*1000)}},destroy:function(){if(this._fade_timeout){clearTimeout(this._fade_timeout);delete this._fade_timeout}if(this.cfg){n.superclass.destroy.apply(this,arguments)}},_cancel_fade:function(){if(this._fade_timeout){clearTimeout(this._fade_timeout);delete this._fade_timeout}},render:function(){if(!n.notice_container){var B=document.createElement("div");B.id="cjt_dynamicnotice_container";document.body.appendChild(B);n.notice_container=B;DOM.addClass(B,"cjt-dynamicnotice-container")}var C=this.cfg.getProperty("container");if(C){DOM.addClass(C,"cjt-dynamicnotice-container")}else{C=n.notice_container}var D=n.superclass.render.call(this,C);return D}});CPANEL.ajax.Dynamic_Notice=n;var h=function(M,O,D,B){if(!B){B={}}YAHOO.lang.augmentObject(B,h.standardOptions);if(!B.context){B.context=[M,B.overlayCorner?B.overlayCorner:"tl",B.contextCorner?B.contextCorner:"tr",["beforeShow","windowResize"],[B.offsetX?B.offsetX:10,B.offsetY?B.offsetY:-5]]}if(!D){D=DOM.generateId()}var E=new CPANEL.ajax.Common_Dialog(D,B);var N=M.title;var J=N;if(B.format){var H=B.format;H.highlightClassName=H.highlightClassName||h.DEFAULT_TOOLTIP_HIGHLIGHT_CLASS_NAME;if(H.processText){try{J=H.processText(J,H.highlightWords,H.highlightClassName)}catch(K){}}else{if(H.highlightWords&&H.highlightWords.length){var L="<span class='{class}'>{word}</span>".replace("{class}",H.highlightClassName);for(var G=0,F=H.highlightWords.length;G<F;G++){var C=H.highlightWords[G];try{J=J.replace(C,L.replace("{word}",C))}catch(K){}}}}}E.setBody(J);E.restoreTitle=N;M.title="";var I=O?O:LOCALE.maketext("Notice");I=CPANEL.widgets.Dialog.applyDialogHeader(I);E.setHeader(I);E.cfg.getProperty("buttons")[0].text=LOCALE.maketext("OK");E.submit=function(){this.hide();if(this.restoreTitle){M.title=this.restoreTitle}delete h.active[M.id]};this.close=function(){E.submit()};E.cfg.getProperty("buttons").pop();DOM.addClass(E.element,"cjt_notice_dialog cjt_info_dialog");E.beforeShowEvent.subscribe(E.center,E,true);E.show_from_source(M)};h.standardOptions={modal:false,width:"300px",fixedcenter:false};h.DEFAULT_TOOLTIP_HIGHLIGHT_CLASS_NAME="cjt-highlight-word";h.toggleToolTip=function(E,B,F,C){if(!E.id){E.id=DOM.generateId()}if(!h.active[E.id]){var D=new h(E,B,F,C);h.active[E.id]=D}else{h.active[E.id].close()}};h.active=[];CPANEL.ajax.toggleToolTip=h.toggleToolTip})();